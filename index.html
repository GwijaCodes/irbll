<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="master.css">
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        peach: '#F9B59B',
                        green: '#A4D1C0',
                        sky: '#88B9E7',
                        dark: '#545E63'
                    }
                }

            }
        }
    </script>
    <title>IRBLL.IT</title>
</head>

<body class="">
    <nav class="fixed flex flex-col w-screen text-center py-4 px-10 md:px-50 lg:px-60 ease-in duration-200">
        <a href="./index.html" class="brand mb-6">IRENE BELLA</a>
        <ul class="flex justify-between text-xs md:text-base">
            <li id="fum" class="active cursor-pointer" onclick="fum()">fumetti</li>
            <li id="ill" class="cursor-pointer" onclick="ill()">illustrazioni</li>
            <li id="char" class="cursor-pointer" onclick="char()">character design</li>
            <li id="about" class="cursor-pointer" onclick="about()">about me</li>
        </ul>
    </nav>
    <div class="sections w-auto overflow-x-scroll flex snap-x">

        <div
            class="section fum flex flex-col w-screen h-auto items-center p-9 pt-40 gap-y-9 bg-peach shrink-0 snap-center snap-">
            <img class="bg-white h-80" src="./assets/dad.jfif"/>

            <div class="bg-white h-80 w-10"></div>
            <div class="bg-white h-80 w-10"></div>
        </div>
        <div
            class="section ill flex flex-col w-screen h-auto items-center p-9 pt-40 gap-y-9 bg-dark shrink-0 snap-center">
            <img class="bg-white h-80" src="./assets/betch.jpg"/>
            <div class="bg-white h-80 w-10"></div>
            <div class="bg-white h-80 w-10"></div>
        </div>
        <div class="section char flex flex-col w-screen h-auto items-center p-9 pt-40 gap-y-9 bg-green shrink-0 snap-center">
            <img class="bg-white h-80" src="./assets/bb.png"/>
            <div class="bg-white h-80 w-10"></div>
            <div class="bg-white h-80 w-10"></div>
        </div>
        <div class="section about flex flex-col w-screen h-auto items-center p-9 pt-40 gap-y-9 bg-sky shrink-0 snap-center">
            <p class="w-full p-10">Lorem ipsum dolor sit amet consectetur adipisicing elit. Provident quibusdam inventore ullam incidunt perspiciatis ut illo fugiat in rerum, nesciunt, a pariatur! Distinctio laborum eum, velit atque error vero eius.</p>
            <img class="bg-white h-80" src="./assets/irbll.jpg"/>
        </div>
    </div>

    <div class="fixed w-screen h-screen overlay"></div>
    <script>
        const nav = document.querySelector('nav');
        window.onscroll = function () {
            if (document.body.scrollTop > 80 || document.documentElement.scrollTop > 80) {
                nav.style.transform = 'translateY(-50%)'
            } else {
                nav.style.transform = 'translateY(0%)'
            }
        }

        function clearActive() {
            const lis = document.getElementsByTagName('li');
            for (li of lis){
                li.classList.remove('active')
            }
        }


        const ill = () => {
            document.querySelector('.ill').scrollIntoView({ behavior: "smooth" })
            clearActive()
            document.querySelector('#ill').classList.add('active')
        }
        const fum = () => {
            document.querySelector('.fum').scrollIntoView({ behavior: "smooth" })
            clearActive()
            document.querySelector('#fum').classList.add('active')
        }
        const char = () => {
            document.querySelector('.char').scrollIntoView({ behavior: "smooth" })
            clearActive()
            document.querySelector('#char').classList.add('active')
        }
        const about = () => {
            document.querySelector('.about').scrollIntoView({ behavior: "smooth" })
            clearActive()
            document.querySelector('#char').classList.add('active')
        }

        let sections = document.querySelectorAll('.section')

        let options = {
            root: null,
            rootMargin: "-500px",
            threshold: 1.0,
        }

        const isVisible = section => {
            const io = new IntersectionObserver((entries, options) => {
                entries.forEach(entry => {
                    // console.log('yay')

                    if(entry.isIntersecting){
                        console.log(section.classList[1])
                        clearActive()
                        document.querySelector(`#${section.classList[1]}`).classList.add('active')
                    }
                })
            })

            io.observe(section);
        }

        sections.forEach(isVisible)
        


    </script>
</body>

</html>